<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Shop &mdash; Free Website Template, Free HTML5 Template by gettemplates.co</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Free HTML5 Website Template by gettemplates.co" />
    <meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
    <meta name="author" content="gettemplates.co" />

    <!-- Animate.css -->
    <link rel="stylesheet" th:href="@{/css/animate.css}">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" th:href="@{/css/icomoon.css}">
    <!-- Bootstrap  -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.css}">

    <!-- Flexslider  -->
    <link rel="stylesheet" th:href="@{/css/flexslider.css}">

    <!-- Owl Carousel  -->
    <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
    <link rel="stylesheet" th:href="@{/css/owl.theme.default.min.css}">

    <!-- Theme style  -->
    <link rel="stylesheet" th:href="@{/css/style.css}">

    <!-- Modernizr JS -->
    <script th:src="@{/js/modernizr-2.6.2.min.js}"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script th:src="@{/js/respond.min.js}"></script>
    <![endif]-->
    <script th:src="@{/js/modernizr-2.6.2.min.js}"></script>

    <style>
        input::placeholder {color:#D1C286;}
    </style>
</head>

<body>

<div class="fh5co-loader"></div>

<div id="page">
    <nav class="fh5co-nav" role="navigation">
        <div class="container">
            <div class="row" style="width:1200px;">
                <div class="col-md-3 col-xs-2" style="width:200px;">
                    <div id="fh5co-logo" style="width:200px;"><a th:href="@{/index.html}">Bang & Oops</a></div>
                </div>
                <div class="col-md-6 col-xs-6 text-center menu-1" style="width:700px;">
                    <ul>
                        <li><a th:href="@{/productList.html}">SPEAKER</a></li>
                        <li><a th:href="@{/productList.html}">EARPHONE</a></li>
                        <li><a th:href="@{/productList.html}">HEADPHONE</a></li>
                        <li><a th:href="@{/productList.html}">ACCESSORIES</a></li>
                        <li><a th:href="@{/services.html}">SERVICE</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" th:href="@{/community.html}" role="button" data-bs-toggle="dropdown" aria-expanded="false">COMMUNITY</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" th:href="@{notice}">공지사항</a></li>
                                <li><a class="dropdown-item" th:href="@{review}">REVIEW</a></li>
                                <li><a class="dropdown-item" th:href="@{qna}">Q&A</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="col-md-3 col-xs-4 text-right hidden-xs menu-2">
                    <ul>
                        <li class="shopping-cart menu-2"><a th:href="@{#}" class="cart"><span><small>0</small><i
                                class="icon-shopping-cart"></i></span></a></li>
                        <li class="login menu-2"><a th:href="@{#}">JOIN</a></li>
                        <li class="login menu-2"><a th:href="@{#}">login</a></li>
                        <li class="search menu-2">
                            <div class="input-group">
                                <input type="text" placeholder="SEARCH">
                                <span class="input-group-btn">
                              <button class="btn btn-primary" type="button"><i
                                      class="icon-search"></i></button>
                           </span>
                            </div>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
    </nav>

<!--    ==============================================================================================-->
    <header id="fh5co-header" class="fh5co-cover fh5co-cover-sm" role="banner" style="background-image:url(/images/category_img2.jpg); background-position: bottom center;">
        <div class="overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <div class="display-t">
                        <div class="display-tc animate-box" data-animate-effect="fadeIn">
                            <h1>REVIEW</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

<!--    =============================================================================================-->
    <div id="fh5co-services" class="">
        <div class="container">
            <div class="col-md-12 animate-box fadeInUp animated-fast">
            <div class="row" >
                <div><h2>REVIEW</h2></div>
                <br><br>

                <div>
                    <a th:href="@{/review/reviewDelete(replyNumber=${reviewDTO.replyNumber})}"><input type="button" class="btn btn-primary btn-outline" style="font-size: 14px; float:right;" value="삭제" /></a>
                    <a th:href="@{/review/reviewModify(replyNumber=${reviewDTO.replyNumber})}"><input type="button" class="btn btn-primary" style="font-size: 14px;float:right;" value="수정" /></a>
                    <a th:href="@{/review/reviewList}"><input type="button" class="btn btn-primary" style="font-size: 14px;float:right;" value="목록" /></a>
                </div>

                    <table class="table">
                        <tr>
                            <th>게시물번호</th>
                            <td th:text="${reviewDTO.replyRef}"></td>
                            <th>작성자</th>
                            <td th:text="${reviewDTO.replyWriter}"></td>
                        </tr>
                        <tr>
                            <th>작성일</th>
                            <td th:text="${reviewDTO.replyDate}"></td>
                            <th>리뷰점수</th>
                            <td th:text="${reviewDTO.replyScore}"></td>
                        </tr>
                        <tr>
                            <th>내용</th>
                            <td colspan="4" th:text="${reviewDTO.replyContents}"></td>
                        </tr>
                    </table>

                <br><br><br><br><br><br><br><br>
                <hr style="border:1px solid #EEEEEE">
                <strong style="margin-left:10px">댓글</strong> <br><br>


<!--                댓글 작성폼-->
                <div style="text-align: left;">
                    <input type="text" id="replyWriter" placeholder="작성자"
                           style="width: 100px; height: 40px; text-align: center; font-size: 14px;  border: 2px solid #E4E4E4; border-radius: 5px; vertical-align: top; margin-left:10px">
                    <input type="text" id="replyContents" placeholder="댓글을 입력해주세요."
                           style="width: 920px; height: 40px; text-align: center; font-size: 14px; border: 2px solid #E4E4E4; border-radius: 5px; vertical-align: top;margin-left:10px ;">
                    <button id="comment-write-btn" th:onclick="commentWrite()" class="btn btn-primary"
                            style="font-size: 12px; vertical-align: top; margin-left:20px">등록</button>

<!--                    <input type="text" id="replyContents" placeholder="내용" style="width: 800px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; vertical-align: top;">-->
<!--                    <input type="text" id="replyWriter" placeholder="작성자" style="width: 90px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; vertical-align: top;">-->
<!--                    <button id="comment-write-btn" th:onclick="commentWrite()" class="btn btn-primary" style="font-size: 12px; vertical-align: top;">댓글작성</button>-->
                </div>
                <br>
            </div>
            </div>
                <hr>
<!--        ======================================================================================-->
            <div id="comment-list" style="text-align: left;">
                <table class="table table-striped">

                    <div class="col-md-12 animate-box fadeInUp animated-fast" th:each="reviewDTO2 : ${list}"
                    style="">

                        <div class="col-md-1" id="comment-writer" th:text="${reviewDTO2.replyWriter}"></div>
                        <div class="col-md-2" id="comment-date" th:text="${reviewDTO2.replyDate}" style="color:#D2D2D2" ></div>
                        <div  id="comment-contents" th:text="${reviewDTO2.replyContents}"></div>
                        <hr>

<!--                        테이블-->
<!--                        <td id="comment-contents" th:text="${reviewDTO2.replyContents}" ></td>-->
<!--                        <td id="comment-writer" th:text="${reviewDTO2.replyWriter}" ></td>-->
<!--                        <td id="comment-date" th:text="${reviewDTO2.replyDate}" ></td>-->

<!--                        기존-->
<!--                        <td id="comment-contents" th:text="${reviewDTO2.replyContents}" style="width: 800px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; padding: 10px;border-right: none;"></td>-->
<!--                        <td id="comment-writer" th:text="${reviewDTO2.replyWriter}" style="width: 90px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; padding: 10px;border-left: none; border-right: none;"></td>-->
<!--                        <td id="comment-date" th:text="${reviewDTO2.replyDate}" style="width: 90px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; padding: 10px;border-left: none;"></td>-->
<!--                    -->
                    </div>
                </table>
            </div>

        </div>
        </div>
    </div>


    <div id="fh5co-started">
        <div class="container">
            <div class="row animate-box">
                <div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
                    <h2>Newsletter</h2>
                    <p>Just stay tune for our latest Product. Now you can subscribe</p>
                </div>
            </div>
            <div class="row animate-box">
                <div class="col-md-8 col-md-offset-2">
                    <form class="form-inline">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <label for="email" class="sr-only">Email</label>
                                <input type="email" class="form-control" id="email" placeholder="Email">
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <button type="submit" class="btn btn-default btn-block">Subscribe</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer id="fh5co-footer" role="contentinfo">
        <div class="container">

            <div class="row copyright">
                <div class="col-md-12 text-center">
                    <p>
                        <small class="block">&copy; 2023 Free HTML5. All Rights Reserved.</small>
                        <small class="block">Designed by <a th:href="@{http://freehtml5.co/}" target="_blank">FreeHTML5.co</a> Demo Images: <a th:href="@{http://blog.gessato.com/}" target="_blank">Gessato</a> &amp; <a th:href="@{http://unsplash.co/}" target="_blank">Unsplash</a></small>
                    </p>
                </div>
            </div>

        </div>
    </footer>
</div>

<div class="gototop js-top">
    <a th:href="@{#}" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<!-- jQuery -->
<script th:src="@{/js/jquery.min.js}"></script>
<!-- jQuery Easing -->
<script th:src="@{/js/jquery.easing.1.3.js}"></script>
<!-- Bootstrap -->
<script th:src="@{/js/bootstrap.min.js}"></script>
<!-- Waypoints -->
<script th:src="@{/js/jquery.waypoints.min.js}"></script>
<!-- Carousel -->
<script th:src="@{/js/owl.carousel.min.js}"></script>
<!-- countTo -->
<script th:src="@{/js/jquery.countTo.js}"></script>
<!-- Flexslider -->
<script th:src="@{/js/jquery.flexslider-min.js}"></script>
<!-- Main -->
<script th:src="@{/js/main.js}"></script>

</body>

<script th:inline="javascript">


// commentWrite 함수 정의
const commentWrite = () => {
    const writer = document.getElementById("replyWriter").value;
    const contents = document.getElementById("replyContents").value;
    const number = /*[[${reviewDTO.replyNumber}]]*/;
    const ref = /*[[${reviewDTO.replyRef}]]*/;
    const pNumber = /*[[${reviewDTO.productNumber}]]*/;
    const ParentNumber = /*[[${reviewDTO.replyParentNumber}]]*/;


    $.ajax({
        type: "post",
        url: "/review/reviewDetail",
        data: {
            replyWriter: writer,
            replyContents: contents,
            replyNumber: number,
            replyRef: ref,
            productNumber: pNumber,
            replyParentNumber: ParentNumber
        },
        dataType: "json",
        success: function(commentList) {
            console.log("작성성공");
            console.log(commentList);
            let output = "<table>";
            for(let i in commentList){
               output += '<tr>';
               output += `<td style="width: 800px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; padding: 10px; border-right: none;" id="comment-contents">${commentList[i].replyContents}</td>`;
               output += `<td style="width: 90px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; padding: 10px;border-left: none; border-right: none;" id="comment-writer">${commentList[i].replyWriter}</td>`;
               output += `<td style="width: 90px; height: 38px; text-align: center; font-size: 14px; border: 2px solid #D1C286; padding: 10px;border-left: none;" id="comment-date">${commentList[i].replyDate}</td>`;
               output += '</tr>';
            }
           output += "</table>";
           document.getElementById('comment-list').innerHTML = output;
           document.getElementById('commentWriter').value = '';
           document.getElementById('commentContents').innerHTML = '';
        },
        error: function(){
            console.log("실패");
        }
    });
};


</script>

</html>
